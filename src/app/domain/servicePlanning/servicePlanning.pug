.service-planning

  .filters

    .month

      label(for='monthPicker') MÄ—nuo:

      .input-group

        input.form-control#monthPicker(
        type='text'
        uib-datepicker-popup='yyyy.MM'
        ng-model='vm.monthDate'
        is-open='vm.monthPickerOpen'
        datepicker-options="{minMode: 'month'}"
        datepicker-mode="'month'"
        )

        span.input-group-btn
          button.btn.btn-default(type='button' ng-click='vm.monthPickerOpen = !vm.monthPickerOpen')
            i.glyphicon.glyphicon-calendar

  .planning

    .headers

      .service-point Klientas
      .filter-system Filtravimo sistema
      //.serving-master Aptarnavimo meistras
      .last-service-date Paskutinis aptarnavimas
      .next-service-date Kitas aptarnavimas

    .scroll-y(
    resize resize-offset-top='5'
    vs-repeat
    )
      .service-item(
      ng-repeat='item in vm.groupedData track by item.id'
      ng-class='{overdue: vm.month > item.nextServiceDate}'
      ng-switch='item.cls'
      )
        h4.serving-master(ng-switch-when='group') {{ item.servingMaster.name }}

        .service-point(ng-switch-default)
          .name {{ item.serviceItem.servicePoint.currentServiceContract.customer().name }}
          .address {{ item.serviceItem.servicePoint.address }}
        .filter-system(ng-switch-default) {{ item.serviceItem.filterSystem.name }}
        .last-service-date(ng-switch-default) {{ ::item.lastServiceDate | amDateFormat:'YYYY.MM.DD' }}
        .next-service-date(ng-switch-default) {{ ::item.nextServiceDate | amDateFormat:'YYYY.MM.DD' }}