.edit-service-item

  .form

    .field-group

      .filter-system

        label Filtravimo sistema

        vfs-dropdown(
        items-data-source-name='FilterSystem'
        items-group-property='brand.name'
        ng-model='vm.serviceItem.filterSystemId'
        ready-state='vm.readyState.filterSystemId'
        )

      .info

        label(for='service-point-item-edit-info') Pastaba

        input.form-control#service-point-item-edit-info(
        autocomplete='off'
        ng-model='vm.serviceItem.info'
        placeholder='Komentaras arba paaiškinimas'
        )

    .field-group

      .installing-date

        label Montavimo data

        sab-date-picker-input(
        value='vm.serviceItem.installingDate'
        )

      .installing-master

        label Montuotojas

        vfs-dropdown(
        items-data-source-name='Employee'
        ng-model='vm.serviceItem.installingMasterId'
        ready-state='vm.readyState.installingMasterId'
        )

    .field-group

      .last-service-date

        label Paskutinė aptarnavimo data

        sab-date-picker-input(
        value='vm.serviceItem.lastServiceDate'
        )

      .serving-master

        label Aptarnavimo meistras

        vfs-dropdown(
        items-data-source-name='Employee'
        ng-model='vm.serviceItem.servingMasterId'
        ready-state='vm.readyState.servingMasterId'
        )

    .additional-service-info

      label(for='additionalServiceInfo') Papildomas aptarnavimas

      textarea#additionalServiceInfo.form-control(
      ng-model='vm.serviceItem.additionalServiceInfo'
      )

    .field-group.animate-show(ng-disabled='!vm.serviceItem.filterSystemId')

      .service-frequency
        label(for='frequency') Aptarnavimo dažnumas

        input#service-frequency.form-control(
        autocomplete='off'
        placeholder='{{ vm.serviceItem.filterSystem.serviceFrequency || vm.serviceItem.filterSystem.filterSystemType.serviceFrequency || "Mėnesių skaičius" }}'
        type='number'
        ng-model='vm.serviceItem.serviceFrequency'
        ng-step='1'
        ng-min='0'
        ng-max='24'
        )

      .service-price
        label(for='service-price') Aptarnavimo kaina

        input#service-price.form-control(
        autocomplete='off'
        type='number'
        placeholder='{{ vm.serviceItem.filterSystem.servicePrice || vm.serviceItem.filterSystem.filterSystemType.servicePrice || "Eurų už aptarnavimą" }}'
        ng-model='vm.serviceItem.servicePrice'
        ng-min='0'
        )

      .guarantee-period
        label(for='frequency') Garantinis laikotarpis

        input#frequency.form-control(
        autocomplete='off'
        type='number'
        placeholder='{{ vm.serviceItem.filterSystem.guaranteePeriod || vm.serviceItem.filterSystem.filterSystemType.guaranteePeriod || "Mėnesių skaičius" }}'
        ng-model='vm.serviceItem.guaranteePeriod'
        ng-min='0'
        )

    sab-form-list.service-item-services(
    ng-if='vm.serviceItem.id'
    data-title='Aptarnavimų istorija'
    ready-state='{vm.readyState.services}'
    data-filter='{serviceItemId: vm.serviceItem.id}'
    model-name='ServiceItemService'
    )

      .field.service-item-service(ng-repeat='service in vm.serviceItemServices track by service.id')
        strong {{ service.date | amDateFormat }}
        strong.gray {{ service.info }}
